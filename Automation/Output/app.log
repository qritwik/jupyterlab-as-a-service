2022-10-26 02:36:40,041 37 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Property map to generate cluster yaml: {'deployment_name': 'jupyterlab', 'namespace': 'poc', 'replica_count': '3', 'image': 'jupterlab:3.2'}
2022-10-26 02:36:40,041 42 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Generated k8s yaml for the cluster creation: <generator object load_all at 0x10c558a50>
2022-10-26 02:36:40,088 231 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/venv/lib/python3.10/site-packages/kubernetes/client/rest.py [request] response body: {"kind":"Deployment","apiVersion":"apps/v1","metadata":{"name":"jupyterlab","namespace":"poc","uid":"99777e94-6dcd-4d7a-b57f-bedc4f45b3df","resourceVersion":"1351463","generation":1,"creationTimestamp":"2022-10-25T21:06:40Z","labels":{"app":"jupyterlab"},"managedFields":[{"manager":"OpenAPI-Generator","operation":"Update","apiVersion":"apps/v1","time":"2022-10-25T21:06:40Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:progressDeadlineSeconds":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{},"f:strategy":{"f:rollingUpdate":{".":{},"f:maxSurge":{},"f:maxUnavailable":{}},"f:type":{}},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"jupyterlab\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":8888,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}}}}]},"spec":{"replicas":3,"selector":{"matchLabels":{"app":"jupyterlab"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"jupyterlab"}},"spec":{"containers":[{"name":"jupyterlab","image":"jupterlab:3.2","command":["jupyter"],"args":["lab","--allow-root","--ip='*'","--no-browser","--NotebookApp.token=''","--NotebookApp.password=''"],"ports":[{"containerPort":8888,"protocol":"TCP"}],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxUnavailable":"25%","maxSurge":"25%"}},"revisionHistoryLimit":10,"progressDeadlineSeconds":600},"status":{}}

2022-10-26 02:36:40,135 231 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/venv/lib/python3.10/site-packages/kubernetes/client/rest.py [request] response body: {"kind":"Service","apiVersion":"v1","metadata":{"name":"jupyterlab","namespace":"poc","uid":"33ee82c8-1e18-435b-a858-940a6c967196","resourceVersion":"1351470","creationTimestamp":"2022-10-25T21:06:40Z","managedFields":[{"manager":"OpenAPI-Generator","operation":"Update","apiVersion":"v1","time":"2022-10-25T21:06:40Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:allocateLoadBalancerNodePorts":{},"f:externalTrafficPolicy":{},"f:internalTrafficPolicy":{},"f:ports":{".":{},"k:{\"port\":8888,\"protocol\":\"TCP\"}":{".":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:selector":{},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"protocol":"TCP","port":8888,"targetPort":8888,"nodePort":31153}],"selector":{"app":"jupyterlab"},"clusterIP":"10.109.8.175","clusterIPs":["10.109.8.175"],"type":"LoadBalancer","sessionAffinity":"None","externalTrafficPolicy":"Cluster","ipFamilies":["IPv4"],"ipFamilyPolicy":"SingleStack","allocateLoadBalancerNodePorts":true,"internalTrafficPolicy":"Cluster"},"status":{"loadBalancer":{}}}

2022-10-26 02:36:40,137 44 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Resources are created for jupyterlab, waiting for pods to get into Running state
2022-10-26 02:36:40,137 49 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Timeout of 1 minute(s) before marking the cluster creation fail
2022-10-26 02:36:40,178 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 0
2022-10-26 02:36:40,178 71 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Waiting for Deployment to become ready, 0 seconds(s) elapsed, timeout is 60 seconds(s)...
2022-10-26 02:36:45,213 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 0
2022-10-26 02:36:45,223 71 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Waiting for Deployment to become ready, 5 seconds(s) elapsed, timeout is 60 seconds(s)...
2022-10-26 02:36:50,252 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 0
2022-10-26 02:36:50,252 71 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Waiting for Deployment to become ready, 10 seconds(s) elapsed, timeout is 60 seconds(s)...
2022-10-26 02:36:55,278 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 0
2022-10-26 02:36:55,279 71 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Waiting for Deployment to become ready, 15 seconds(s) elapsed, timeout is 60 seconds(s)...
2022-10-26 02:37:00,313 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 0
2022-10-26 02:37:00,313 71 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Waiting for Deployment to become ready, 20 seconds(s) elapsed, timeout is 60 seconds(s)...
2022-10-26 02:37:05,333 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 0
2022-10-26 02:37:05,335 71 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Waiting for Deployment to become ready, 25 seconds(s) elapsed, timeout is 60 seconds(s)...
2022-10-26 02:37:10,353 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 0
2022-10-26 02:37:10,353 71 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Waiting for Deployment to become ready, 30 seconds(s) elapsed, timeout is 60 seconds(s)...
2022-10-26 02:37:15,371 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 0
2022-10-26 02:37:15,396 71 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Waiting for Deployment to become ready, 35 seconds(s) elapsed, timeout is 60 seconds(s)...
2022-10-26 02:37:20,422 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 0
2022-10-26 02:37:20,423 71 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Waiting for Deployment to become ready, 40 seconds(s) elapsed, timeout is 60 seconds(s)...
2022-10-26 02:37:25,448 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 0
2022-10-26 02:37:25,462 71 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Waiting for Deployment to become ready, 45 seconds(s) elapsed, timeout is 60 seconds(s)...
2022-10-26 02:37:30,483 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 0
2022-10-26 02:37:30,483 71 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Waiting for Deployment to become ready, 50 seconds(s) elapsed, timeout is 60 seconds(s)...
2022-10-26 02:37:35,518 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 0
2022-10-26 02:37:35,520 71 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Waiting for Deployment to become ready, 55 seconds(s) elapsed, timeout is 60 seconds(s)...
2022-10-26 02:37:40,545 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 0
2022-10-26 02:37:40,545 62 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Timeout of 1 completed, marking the cluster creation as failed
2022-10-26 02:37:40,545 63 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Cluster jupyterlab creation failed
2022-10-26 02:37:40,545 65 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Launching another thread to delete wrongly created cluster
2022-10-26 02:37:40,545 210 [Thread-1 (delete_cluster)] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [delete_cluster] Cluster is active, deleting it!!
2022-10-26 02:37:40,600 231 [ThreadPoolExecutor-0_0] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/venv/lib/python3.10/site-packages/kubernetes/client/rest.py [request] response body: {"kind":"Status","apiVersion":"v1","metadata":{},"status":"Success","details":{"name":"jupyterlab","group":"apps","kind":"deployments","uid":"99777e94-6dcd-4d7a-b57f-bedc4f45b3df"}}

2022-10-26 02:37:40,646 231 [ThreadPoolExecutor-0_1] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/venv/lib/python3.10/site-packages/kubernetes/client/rest.py [request] response body: {"kind":"Status","apiVersion":"v1","metadata":{},"status":"Success","details":{"name":"jupyterlab","kind":"services","uid":"33ee82c8-1e18-435b-a858-940a6c967196"}}

2022-10-26 02:37:40,647 217 [Thread-1 (delete_cluster)] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [delete_cluster] Cluster jupyterlab is deleted successfully
2022-10-26 03:04:26,631 37 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Inputs to generate cluster k8s yaml: {'deployment_name': 'jupyterlab', 'namespace': 'poc', 'replica_count': '3', 'image': 'jupterlab:3.2'}
2022-10-26 03:04:26,632 42 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Generated k8s yaml for the cluster creation: <generator object load_all at 0x1052b4b30>
2022-10-26 03:04:26,683 231 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/venv/lib/python3.10/site-packages/kubernetes/client/rest.py [request] response body: {"kind":"Deployment","apiVersion":"apps/v1","metadata":{"name":"jupyterlab","namespace":"poc","uid":"b17be1dc-bd40-40f2-9916-6d6cf1e86bd4","resourceVersion":"1353626","generation":1,"creationTimestamp":"2022-10-25T21:34:26Z","labels":{"app":"jupyterlab"},"managedFields":[{"manager":"OpenAPI-Generator","operation":"Update","apiVersion":"apps/v1","time":"2022-10-25T21:34:26Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:progressDeadlineSeconds":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{},"f:strategy":{"f:rollingUpdate":{".":{},"f:maxSurge":{},"f:maxUnavailable":{}},"f:type":{}},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"jupyterlab\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":8888,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}}}}]},"spec":{"replicas":3,"selector":{"matchLabels":{"app":"jupyterlab"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"jupyterlab"}},"spec":{"containers":[{"name":"jupyterlab","image":"jupterlab:3.2","command":["jupyter"],"args":["lab","--allow-root","--ip='*'","--no-browser","--NotebookApp.token=''","--NotebookApp.password=''"],"ports":[{"containerPort":8888,"protocol":"TCP"}],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxUnavailable":"25%","maxSurge":"25%"}},"revisionHistoryLimit":10,"progressDeadlineSeconds":600},"status":{}}

2022-10-26 03:04:26,706 231 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/venv/lib/python3.10/site-packages/kubernetes/client/rest.py [request] response body: {"kind":"Service","apiVersion":"v1","metadata":{"name":"jupyterlab","namespace":"poc","uid":"93268538-03fb-414f-87de-52eb8ee37c37","resourceVersion":"1353629","creationTimestamp":"2022-10-25T21:34:26Z","managedFields":[{"manager":"OpenAPI-Generator","operation":"Update","apiVersion":"v1","time":"2022-10-25T21:34:26Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:allocateLoadBalancerNodePorts":{},"f:externalTrafficPolicy":{},"f:internalTrafficPolicy":{},"f:ports":{".":{},"k:{\"port\":8888,\"protocol\":\"TCP\"}":{".":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:selector":{},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"protocol":"TCP","port":8888,"targetPort":8888,"nodePort":31604}],"selector":{"app":"jupyterlab"},"clusterIP":"10.107.21.0","clusterIPs":["10.107.21.0"],"type":"LoadBalancer","sessionAffinity":"None","externalTrafficPolicy":"Cluster","ipFamilies":["IPv4"],"ipFamilyPolicy":"SingleStack","allocateLoadBalancerNodePorts":true,"internalTrafficPolicy":"Cluster"},"status":{"loadBalancer":{}}}

2022-10-26 03:04:26,714 44 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Cluster jupyterlab created, waiting for all pods to get into Running state
2022-10-26 03:04:26,714 49 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Timeout of 1 minute(s) before marking the cluster creation fail
2022-10-26 03:04:26,743 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 0
2022-10-26 03:04:26,743 71 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Waiting for Deployment to become ready, 0 seconds(s) elapsed, timeout is 60 seconds(s)...
2022-10-26 03:04:31,771 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 0
2022-10-26 03:04:31,771 71 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Waiting for Deployment to become ready, 5 seconds(s) elapsed, timeout is 60 seconds(s)...
2022-10-26 03:04:36,792 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 0
2022-10-26 03:04:36,792 71 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Waiting for Deployment to become ready, 10 seconds(s) elapsed, timeout is 60 seconds(s)...
2022-10-26 03:04:41,818 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 0
2022-10-26 03:04:41,819 71 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Waiting for Deployment to become ready, 15 seconds(s) elapsed, timeout is 60 seconds(s)...
2022-10-26 03:04:46,843 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 0
2022-10-26 03:04:46,843 71 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Waiting for Deployment to become ready, 20 seconds(s) elapsed, timeout is 60 seconds(s)...
2022-10-26 03:04:51,865 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 0
2022-10-26 03:04:51,865 71 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Waiting for Deployment to become ready, 25 seconds(s) elapsed, timeout is 60 seconds(s)...
2022-10-26 03:04:56,890 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 0
2022-10-26 03:04:56,891 71 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Waiting for Deployment to become ready, 30 seconds(s) elapsed, timeout is 60 seconds(s)...
2022-10-26 03:05:01,912 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 0
2022-10-26 03:05:01,912 71 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Waiting for Deployment to become ready, 35 seconds(s) elapsed, timeout is 60 seconds(s)...
2022-10-26 03:05:06,933 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 0
2022-10-26 03:05:06,933 71 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Waiting for Deployment to become ready, 40 seconds(s) elapsed, timeout is 60 seconds(s)...
2022-10-26 03:05:11,951 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 0
2022-10-26 03:05:11,951 71 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Waiting for Deployment to become ready, 45 seconds(s) elapsed, timeout is 60 seconds(s)...
2022-10-26 03:05:16,976 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 0
2022-10-26 03:05:16,976 71 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Waiting for Deployment to become ready, 50 seconds(s) elapsed, timeout is 60 seconds(s)...
2022-10-26 03:05:22,007 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 0
2022-10-26 03:05:22,007 71 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Waiting for Deployment to become ready, 55 seconds(s) elapsed, timeout is 60 seconds(s)...
2022-10-26 03:05:27,030 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 0
2022-10-26 03:05:27,030 62 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Timeout of 1 completed, marking the cluster creation as failed
2022-10-26 03:05:27,030 63 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Cluster jupyterlab creation failed
2022-10-26 03:05:27,030 65 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Launching another thread to delete wrongly created cluster
2022-10-26 03:05:27,031 210 [Thread-1 (delete_cluster)] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [delete_cluster] Cluster is active, deleting it!!
2022-10-26 03:05:27,088 231 [ThreadPoolExecutor-0_0] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/venv/lib/python3.10/site-packages/kubernetes/client/rest.py [request] response body: {"kind":"Status","apiVersion":"v1","metadata":{},"status":"Success","details":{"name":"jupyterlab","group":"apps","kind":"deployments","uid":"b17be1dc-bd40-40f2-9916-6d6cf1e86bd4"}}

2022-10-26 03:05:27,128 231 [ThreadPoolExecutor-0_1] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/venv/lib/python3.10/site-packages/kubernetes/client/rest.py [request] response body: {"kind":"Status","apiVersion":"v1","metadata":{},"status":"Success","details":{"name":"jupyterlab","kind":"services","uid":"93268538-03fb-414f-87de-52eb8ee37c37"}}

2022-10-26 03:05:27,130 217 [Thread-1 (delete_cluster)] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [delete_cluster] Cluster jupyterlab is deleted successfully
2022-10-26 10:10:51,314 37 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Inputs to generate cluster k8s yaml: {'deployment_name': 'jupyterlab-spark', 'namespace': 'poc', 'replica_count': '3', 'image': 'jupyterlab-spark:1.0'}
2022-10-26 10:10:51,316 42 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Generated k8s yaml for the cluster creation: <generator object load_all at 0x112550b30>
2022-10-26 10:10:51,507 231 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/venv/lib/python3.10/site-packages/kubernetes/client/rest.py [request] response body: {"kind":"Deployment","apiVersion":"apps/v1","metadata":{"name":"jupyterlab-spark","namespace":"poc","uid":"e662f0a3-cb11-4bd0-916c-a00adf66bb1d","resourceVersion":"1357242","generation":1,"creationTimestamp":"2022-10-26T04:40:51Z","labels":{"app":"jupyterlab-spark"},"managedFields":[{"manager":"OpenAPI-Generator","operation":"Update","apiVersion":"apps/v1","time":"2022-10-26T04:40:51Z","fieldsType":"FieldsV1","fieldsV1":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:progressDeadlineSeconds":{},"f:replicas":{},"f:revisionHistoryLimit":{},"f:selector":{},"f:strategy":{"f:rollingUpdate":{".":{},"f:maxSurge":{},"f:maxUnavailable":{}},"f:type":{}},"f:template":{"f:metadata":{"f:labels":{".":{},"f:app":{}}},"f:spec":{"f:containers":{"k:{\"name\":\"jupyterlab-spark\"}":{".":{},"f:args":{},"f:command":{},"f:image":{},"f:imagePullPolicy":{},"f:name":{},"f:ports":{".":{},"k:{\"containerPort\":8888,\"protocol\":\"TCP\"}":{".":{},"f:containerPort":{},"f:protocol":{}}},"f:resources":{},"f:terminationMessagePath":{},"f:terminationMessagePolicy":{}}},"f:dnsPolicy":{},"f:restartPolicy":{},"f:schedulerName":{},"f:securityContext":{},"f:terminationGracePeriodSeconds":{}}}}}}]},"spec":{"replicas":3,"selector":{"matchLabels":{"app":"jupyterlab-spark"}},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"jupyterlab-spark"}},"spec":{"containers":[{"name":"jupyterlab-spark","image":"jupyterlab-spark:1.0","command":["jupyter"],"args":["lab","--allow-root","--ip='*'","--no-browser","--NotebookApp.token=''","--NotebookApp.password=''"],"ports":[{"containerPort":8888,"protocol":"TCP"}],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}},"strategy":{"type":"RollingUpdate","rollingUpdate":{"maxUnavailable":"25%","maxSurge":"25%"}},"revisionHistoryLimit":10,"progressDeadlineSeconds":600},"status":{}}

2022-10-26 10:10:51,538 231 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/venv/lib/python3.10/site-packages/kubernetes/client/rest.py [request] response body: {"kind":"Service","apiVersion":"v1","metadata":{"name":"jupyterlab-spark","namespace":"poc","uid":"d79079d6-b535-4944-938e-54ffd9b5c699","resourceVersion":"1357245","creationTimestamp":"2022-10-26T04:40:51Z","managedFields":[{"manager":"OpenAPI-Generator","operation":"Update","apiVersion":"v1","time":"2022-10-26T04:40:51Z","fieldsType":"FieldsV1","fieldsV1":{"f:spec":{"f:allocateLoadBalancerNodePorts":{},"f:externalTrafficPolicy":{},"f:internalTrafficPolicy":{},"f:ports":{".":{},"k:{\"port\":8888,\"protocol\":\"TCP\"}":{".":{},"f:port":{},"f:protocol":{},"f:targetPort":{}}},"f:selector":{},"f:sessionAffinity":{},"f:type":{}}}}]},"spec":{"ports":[{"protocol":"TCP","port":8888,"targetPort":8888,"nodePort":32616}],"selector":{"app":"jupyterlab-spark"},"clusterIP":"10.105.171.137","clusterIPs":["10.105.171.137"],"type":"LoadBalancer","sessionAffinity":"None","externalTrafficPolicy":"Cluster","ipFamilies":["IPv4"],"ipFamilyPolicy":"SingleStack","allocateLoadBalancerNodePorts":true,"internalTrafficPolicy":"Cluster"},"status":{"loadBalancer":{}}}

2022-10-26 10:10:51,540 44 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Cluster jupyterlab-spark created, waiting for all pods to get into Running state
2022-10-26 10:10:51,540 49 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Timeout of 1 minute(s) before marking the cluster creation fail
2022-10-26 10:10:51,567 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 0
2022-10-26 10:10:51,567 71 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Waiting for Deployment to become ready, 0 seconds(s) elapsed, timeout is 60 seconds(s)...
2022-10-26 10:10:56,589 52 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Number of pods running: 3
2022-10-26 10:10:56,589 54 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Cluster jupyterlab-spark created successful
2022-10-26 10:10:56,589 57 [MainThread] DEBUG /Users/ritwik.raj/kubernetes/jupyterLab/Automation/Script/DeploymentClient.py [create_cluster] Cluster creation yaml file is written to file
